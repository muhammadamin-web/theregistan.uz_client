import{j as e,L as o,u as b,r as v,P as x,R as w,_}from"./index-58aeb15a.js";import{u as c}from"./useFetch-e27db1cb.js";import{B as h,C as N}from"./Card-f46926ba.js";import{P as y}from"./PaginationComp-ff350883.js";import{B as k,b as E}from"./constants-0ebca8c5.js";import"./iconBase-2ffd11fb.js";function L({_id:s,image:t,title:r,category:n}){return e.jsxs("div",{className:"container md:py-[22px] py-[20px] flex flex-col gap-[1vw]",children:[e.jsx(o,{className:"text-mainblack xs:order-1 group gap-6 xs:gap-4 duration-150 flex xs:flex-col flex-col-reverse ",to:`post/${s}`,children:e.jsx("img",{src:h+t.name,className:" w-full rounded-[1rem] xs:aspect-[14/9] aspect-[3/1] object-cover",alt:"registan image"})}),e.jsx("div",{className:"flex xs:order-2 xs:mt-3 xs:mb-1 justify-between xs:flex-col sm:flex-col gap-4 text-mainblack",children:e.jsx("div",{className:"flex gap-2",children:n.map(l=>e.jsx(N,{...l},l._id))})}),e.jsx(o,{className:"text-mainblack xs:order-3 group gap-6 xs:gap-4 duration-150 flex xs:flex-col flex-col-reverse ",to:`post/${s}`,children:e.jsxs("div",{className:"flex justify-between items-end gap-10 md:flex-col",children:[e.jsx("h1",{className:"card_title_banner text-[5vw] md:text-[4vw] lg:text-[3.3vw] lg:max-w-[70vw] xl:text-[4.2rem]  leading-[1.1em] group-hover:underline xs:decoration-2 decoration-4 duration-150 underline-offset-[0.4vw] font-bold decoration-maingreen",children:r}),e.jsx("div",{className:"hidden lg:flex text-[0.8vw] xl:text-[14px] rounded-full duration-150 group-hover:bg-maingreen group-hover:border-none  border border-mainblack p-[15px] w-[6em] h-[6em] xl:w-[84px] xl:h-[84px] items-center justify-center font-bold",children:"ЧИТАТЬ"})]})})]})}const P=w.lazy(()=>_(()=>import("./Card-f46926ba.js").then(s=>s.b),["assets/Card-f46926ba.js","assets/index-58aeb15a.js","assets/index-afe4daa8.css","assets/iconBase-2ffd11fb.js","assets/Card-55e48bd1.css"]));function A(){var m,p,f,u,g;const[s]=b(),t=Number(s.get("page"))||1,{data:r,isFetching:n,error:l}=c(`/news?page=${t}`),{data:a}=c("/banner"),{data:i,isFetching:d}=c("/topbanner");return v.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[t]),!r&&n?e.jsx(x,{}):d?e.jsx(x,{}):l?e.jsx("div",{children:"...Error"}):e.jsxs("div",{children:[t==1&&(d?"loading...":e.jsx(v.Suspense,{fallback:e.jsx(x,{}),children:e.jsx(L,{...(m=i==null?void 0:i.data[0])==null?void 0:m.news})})),e.jsxs("div",{className:"container",children:[e.jsx(o,{to:k,children:e.jsx("img",{src:E,alt:"banner",className:"banner_img_top w-full rounded-[1rem] mb-8 object-cover"})}),e.jsx("div",{className:"card_container_block flex justify-start 14 pt-[2.2vw] xl:pt-[2rem] flex-wrap  xs:gap-y-[8vw] gap-y-[4vw] xl:gap-y-[5rem]  xl:-mx-4 md:-mx-2 lg:-mx-2",children:r&&((p=r==null?void 0:r.news)==null?void 0:p.map(j=>e.jsx(P,{...j},j._id)))})]}),e.jsx("div",{className:"container flex justify-center py-[4vw] xl:py-[5rem]",children:e.jsx("ul",{className:"flex items-center justify-center gap-[0.4vw] text-black xs:text-[1.3rem] md:text-[1.5rem] lg:text-[1.2vw] xl:text-[2rem]",children:e.jsx(y,{current:t,news:r})})}),a&&(a==null?void 0:a.data[0].status)===!0&&e.jsx("div",{className:"container",children:e.jsx(o,{to:(f=a==null?void 0:a.data[0])==null?void 0:f.link,children:e.jsx("img",{src:`${h+((g=(u=a==null?void 0:a.data[0])==null?void 0:u.image)==null?void 0:g.name)}`,alt:"banner",className:"banner_img w-full rounded-[1rem] mb-8 object-cover"})})})]})}export{A as default};
