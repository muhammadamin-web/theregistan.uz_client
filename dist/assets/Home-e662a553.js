import{j as e,L as c,u as w,r as i,P as m,R as _,_ as N}from"./index-a9c18ece.js";import{u as p}from"./useFetch-1a958088.js";import{B as h,C as y}from"./Card-1437e7ce.js";import{P as k}from"./PaginationComp-205c1696.js";const E="/assets/banner_reklama-0925924d.png";function L({image:n,slug:r,title:a,category:x}){return e.jsxs("div",{className:"container md:py-[22px] py-[44px] flex flex-col gap-[1vw]",children:[e.jsx(c,{className:"text-mainblack xs:order-1 group gap-6 xs:gap-4 duration-150 flex xs:flex-col flex-col-reverse ",to:`post/${r}`,children:e.jsx("img",{src:h+n.name,className:"fullcard_img w-full  xs:aspect-[14/9] aspect-[3/1] object-cover",alt:"registan image"})}),e.jsx("div",{className:"flex xs:order-2 xs:mt-3 xs:mb-1 justify-between xs:flex-col sm:flex-col gap-4 text-mainblack",children:e.jsx("div",{className:"flex gap-2",children:x.map(o=>e.jsx(y,{...o},o._id))})}),e.jsx(c,{className:"text-mainblack xs:order-3 group gap-6 xs:gap-4 duration-150 flex xs:flex-col flex-col-reverse ",to:`post/${r}`,children:e.jsxs("div",{className:"flex justify-between items-end gap-10 md:flex-col",children:[e.jsx("h1",{className:"card_title_banner text-[5vw] md:text-[4vw] lg:text-[2.8vw] lg:max-w-[70vw] xl:text-[4.2rem]  leading-[1.1em] group-hover:underline xs:decoration-2 decoration-4 duration-150 underline-offset-[0.4vw] font-bold decoration-maingreen",children:a}),e.jsx("div",{className:"hidden lg:flex text-[0.8vw] xl:text-[14px] rounded-full duration-150 group-hover:bg-maingreen group-hover:border-none  border border-mainblack p-[15px] w-[6em] h-[6em] xl:w-[84px] xl:h-[84px] items-center justify-center font-bold",children:"ЧИТАТЬ"})]})})]})}const P="https://example.com/",C=_.lazy(()=>N(()=>import("./Card-1437e7ce.js").then(n=>n.b),["assets/Card-1437e7ce.js","assets/index-a9c18ece.js","assets/index-0eb7254b.css","assets/Card-e1629860.css"]));function F(){var g,j;const[n]=w(),r=Number(n.get("page"))||1,{data:a,isFetching:x,error:o}=p(`/news?page=${r}`),{data:s}=p("/banner"),{data:d,isFetching:f}=p("/topbanner"),[u,b]=i.useState(0);return i.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[r]),i.useEffect(()=>{var t;if((t=s==null?void 0:s.data)!=null&&t.length){const l=setInterval(()=>{b(v=>v===s.data.length-1?0:v+1)},3e3);return()=>clearInterval(l)}},[s]),!a&&x?e.jsx(m,{}):f?e.jsx(m,{}):o?e.jsx("div",{children:"...Error"}):e.jsxs("div",{children:[r===1&&(f?"loading...":e.jsx(i.Suspense,{fallback:e.jsx(m,{}),children:e.jsx(L,{...(g=d==null?void 0:d.data[0])==null?void 0:g.news})})),e.jsxs("div",{className:"container",children:[e.jsx(c,{to:P,children:e.jsx("img",{src:E,alt:"banner",className:"banner_img_top w-full mb-8 object-cover"})}),e.jsx("div",{className:"card_container_block flex justify-start pt-[2.2vw] xl:pt-[2rem] flex-wrap xs:gap-y-[8vw] gap-y-[4vw] xl:gap-y-[5rem] xl:-mx-4 md:-mx-2 lg:-mx-2",children:a&&((j=a==null?void 0:a.news)==null?void 0:j.map(t=>e.jsx(C,{...t},t._id)))})]}),e.jsx("div",{className:"container flex justify-center py-[4vw] xl:py-[5rem]",children:e.jsx("ul",{className:"flex items-center justify-center gap-[0.4vw] text-black xs:text-[1.3rem] md:text-[1.5rem] lg:text-[1.2vw] xl:text-[2rem]",children:e.jsx(k,{current:r,news:a})})}),s&&s.data&&e.jsx("div",{className:"container",children:e.jsx("div",{className:"banner-slider",children:s.data.map((t,l)=>e.jsx("div",{className:`slide ${l===u?"active":""}`,style:{display:l===u?"block":"none",transition:"opacity 0.5s ease-in-out"},children:e.jsx(c,{to:t.link,children:e.jsx("img",{src:`${h}${t.image.name}`,alt:"banner",className:"banner_img w-full rounded-[1rem] mb-8 object-cover"})})},l))})})]})}export{F as default};
